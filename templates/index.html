<!DOCTYPE html>
<html>
<head>
    <title>RESULTS</title>
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
    <link rel="icon" type="image/png" href="{{url_for('static', filename='images/kmitlogo.png') }}">
</head>
<body>
    <header class="head">
        <div>
            <a href="https://www.osmania.ac.in/">
                <img src="{{url_for('static', filename='images/oulogo.png') }}" alt="kmitlogo"></a>
        </div>
        <div >
            <a href="https://www.kmit.in/">
                <img class="img" src="{{url_for('static', filename='images/kmitlogo.png') }}" alt="kmitlogo" height="75px" width="120px;"></a>
        </div>
    </header>

        {% if e_flag != 0 %}
                <div class="popup-container {% if e_flag ==1 %}visible{% else %}hidden{% endif %}" id="popup1">
                    <div class="popup-content">
                        <h2>URL ERROR</h2>
                        <p>Please enter a valid OU results URL</p>
                        <button class="btnerr" onclick="hidePopup()">Close</button>
                    </div>
                </div>
                <div class="popup-container {% if e_flag == 2 %}visible{% else %}hidden{% endif %}" id="popup2">
                    <div class="popup-content">
                        <h2>INPUT ERROR</h2>
                        <p>Please enter the roll numbers </p>
                        <p class="or">OR</p>
                        <p>Choose the CSV file containing roll numbers </p>
                        <button class="btnerr" onclick="hidePopup()">Close</button>
                    </div>
                </div>
                <div class="popup-container {% if e_flag == 3 %}visible{% else %}hidden{% endif %}" id="popup3">
                    <div class="popup-content">
                        <h2>Invalid ROll numbers</h2>
                        <p>Enter valid starting and ending roll number</p>
                        <button class="btnerr" onclick="hidePopup()">Close</button>
                    </div>
                </div>
                <div class="popup-container {% if e_flag ==4 %}visible{% else %}hidden{% endif %}" id="popup4">
                    <div class="popup-content">
                        <h2>Irrelevant data</h2>
                        <p>Given file contains data other than roll numbers<br>PLease check the
                            input file once again</p>
                        <button class="btnerr" onclick="hidePopup()">Close</button>
                    </div>
                </div>
                <div class="popup-container {% if e_flag ==5 %}visible{% else %}hidden{% endif %}" id="popup5">
                    <div class="popup-content">
                        <h2>Invalid data</h2>
                        <p>File contains invalid roll numbers</p>
                        <button class="btnerr" onclick="hidePopup()">Close</button>
                    </div>
                </div>
                <div class="popup-container {% if e_flag ==6 %}visible{% else %}hidden{% endif %}" id="popup6">
                    <div class="popup-content">
                        <h2>OU SERVER ERROR</h2>
                        <p>Please try again later the server is busy</p>
                        <button class="btnerr" onclick="hidePopup()">Close</button>
                    </div>
                </div>
                <script>
                    // Function to hide the popup
                    function hidePopup() {
                        var popup1 = document.getElementById('popup1');
                        var popup2 = document.getElementById('popup2');
                        var popup3 = document.getElementById('popup3');
                        var popup4 = document.getElementById('popup4');
                        var popup5 = document.getElementById('popup5');
                        var popup6 = document.getElementById('popup6');
                        popup1.classList.remove('visible');
                        popup1.classList.add('hidden');
                        popup2.classList.remove('visible');
                        popup2.classList.add('hidden');
                        popup3.classList.remove('visible');
                        popup3.classList.add('hidden');
                        popup4.classList.remove('visible');
                        popup4.classList.add('hidden');
                        popup5.classList.remove('visible');
                        popup5.classList.add('hidden');
                        popup6.classList.remove('visible');
                        popup6.classList.add('hidden');
                    }
                </script>
        {%endif%}
    <form class="frm" method="POST" enctype="multipart/form-data" action="/getres" novalidate>
        <div>
            <label> URL </label>
            <input class="url" type="text" name="URL">
        </div>
        <div>
            <label> ENTER STARTING ROLL NUMBER </label>
            <input  class="inpts" type="text" name="num1">
        </div>
        <div>
            <label> ENTER ENDING ROLL NUMBER </label>
            <input class="inpts" type="text" name="num2">
        </div>

        <p class="or"><b>OR</b></p>

        <label>CHOOSE THE CSV FILE WITH ROLL NUMBERS</label>
        <input class="files" type="file" name="file" accept=".csv,
        application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,
        application/vnd.ms-excel">

        <div  class="btn" id="content">
            <button id="startButton" class="button-29" onclick="showLoader()">SUBMIT AND DOWNLOAD</button>
        </div>
    </form>

    <div class="instructions">
        <p>
            Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry'
            s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and
            scrambled it to make a type specimen book. It has survived not only five centuries, but also
            the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s
            with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop
            publishing software like Aldus PageMaker including versions of Lorem Ipsum
        </p>
    </div>
    <footer>
        <span &copy>KMIT @ 2022-2026 (V.Bharadwaj Reddy , K.Baba Gandhi , P.Sagar)</span>
    </footer>
</body>
</html>